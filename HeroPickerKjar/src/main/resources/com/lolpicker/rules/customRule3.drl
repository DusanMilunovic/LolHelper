package com.lolpicker.rules;
import com.lolpicker.model.ChampionPick;
import com.lolpicker.model.ChampionSelect;
import com.lolpicker.model.Champion;
import com.lolpicker.model.Clasz;
import com.lolpicker.model.StrongPoint;
import com.lolpicker.model.CompositionType;
import com.lolpicker.model.StrongPoint;
import com.lolpicker.model.CompositionStrongPoint;

rule "enemy team, custom_3 composition"
	no-loop
	when
		$ad: Number(this >= 1) from accumulate 
		($cp: ChampionPick(myTeam == false, Clasz.adcarry memberOf classes), count($cp))
		$ap: Number(this >= 2) from accumulate 
		($cp: ChampionPick(myTeam == false, Clasz.apcarry memberOf classes), count($cp))
		$tank: Number(this >= 0) from accumulate 
		($cp: ChampionPick(myTeam == false, Clasz.tank memberOf classes), count($cp))
		$healer: Number(this >= 0) from accumulate 
		($cp: ChampionPick(myTeam == false, Clasz.healer memberOf classes), count($cp))
		$poke: Number(this >= 0) from accumulate 
		($cp: ChampionPick(myTeam == false, Clasz.poke memberOf classes), count($cp))
		$cs: ChampionSelect(enemyTeamComposition not contains CompositionType.customComposition3)
	then
		$cs.getEnemyTeamComposition().add(CompositionType.customComposition3);
		update($cs);
end
rule "my team, custom_3 composition"
	no-loop
	when
		$ad: Number(this >= 1) from accumulate 
		($cp: ChampionPick(myTeam == true, Clasz.adcarry memberOf classes), count($cp))
		$ap: Number(this >= 2) from accumulate 
		($cp: ChampionPick(myTeam == true, Clasz.apcarry memberOf classes), count($cp))
		$tank: Number(this >= 0) from accumulate 
		($cp: ChampionPick(myTeam == true, Clasz.tank memberOf classes), count($cp))
		$healer: Number(this >= 0) from accumulate 
		($cp: ChampionPick(myTeam == true, Clasz.healer memberOf classes), count($cp))
		$poke: Number(this >= 0) from accumulate 
		($cp: ChampionPick(myTeam == true, Clasz.poke memberOf classes), count($cp))
		$cs: ChampionSelect(myTeamComposition not contains CompositionType.customComposition3)
	then
		$cs.getMyTeamComposition().add(CompositionType.customComposition3);
		update($cs);
end
rule "enemy team custom_3 comp"
	salience -1
	when 
		$cs: ChampionSelect(enemyTeamComposition contains CompositionType.customComposition3)
	then
		ArrayList<Champion> champions = new ArrayList<>();
		champions.add(Champion.Amumu);
		champions.add(Champion.ChoGath);
		champions.add(Champion.DrMundo);
		champions.add(Champion.Gangplank);
		champions.add(Champion.JarvanIV);
		champions.add(Champion.Malphite);
		champions.add(Champion.Mordekaiser);
		champions.add(Champion.Morgana);


		$cs.getCompositionCounters().put("customComposition3", champions);
end


